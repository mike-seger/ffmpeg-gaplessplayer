<!DOCTYPE html>
<html lang="en">
<head><title>Gapless 5 Player</title>
  <meta name="viewport" content="width=400" />
  <link rel="stylesheet" href="./gapless5.css" type="text/css" />
  <script type='text/javascript' src='./gapless5.js'></script>
  <style type="text/css">
    body { font-family: Arial, Helvetica, Geneva, sans-serif; font-size: 12px; }
  </style>
</head>
<body>
  <span id="g5-album"></span>
  <span id="album-title"></span>
  <script type="text/javascript">
    const logLevel = LogLevel.Debug
    let speedToggle = false
    let volumeToggle = false
    const albumPlayer = new Gapless5({
      guiId: 'g5-album',
      tracks: [
        'alpha - space dream - 01. das licht - traumwelten',
        'alpha - space dream - 02. vectrex - meteor (armageddon club mix)',
        'alpha - space dream - 03. jupiter prime - gate to heaven',
        'alpha - space dream - 04. armin - communication',
      ].map(file => `../../tracks/${file}.flac`),
      logLevel,
      shuffleButton: false,
      loadLimit: 3,
    })

    const updateAlbumTitle = () => {
      const title = albumPlayer.currentSource().audioPath
        .replace(/.*\//,"").replace(/.flac$/,"").replace(/ - /, ": ")
        .replace(/ - [0-9. ]*/, "<br>")
      document.getElementById('album-title').innerHTML = title
    };
    updateAlbumTitle()
    albumPlayer.onprev = updateAlbumTitle
    albumPlayer.onnext = updateAlbumTitle

  </script>
</body>
</html>